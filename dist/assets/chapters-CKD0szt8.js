import{i as M,c as y,B as z,j as c,k as m,l as P,N as b,m as A,n as B,W as S}from"./three.module-RlKbuHKP.js";gsap.registerPlugin(ScrollTrigger);const w=document.querySelector("[data-select='container']"),W=document.querySelector("[data-select='canvas']"),h=new M,s=gsap.utils.toArray("#horizontal .content"),E=document.querySelectorAll(".dot"),t={scroll:{position:0,intensity:0,lerped:{current:0,previous:0}},dimensions:{width:w.offsetWidth,height:w.offsetHeight}},C=new y,D=C.load("./textures/particles/1.png"),p=new z,u=2e3,a=new Float32Array(u*3),l=new Float32Array(u*3),g=[new c("#D5BDBD"),new c("#E4E0DB"),new c("#E4E0DB")];for(let e=0;e<u*3;e++){a[e*3+0]=(Math.random()-.5)*200,a[e*3+1]=(Math.random()-.5)*200,a[e*3+2]=(Math.random()-.5)*200;const o=g[Math.floor(Math.random()*g.length)];l[e*3+0]=o.r,l[e*3+1]=o.g,l[e*3+2]=o.b}p.setAttribute("position",new m(a,3));p.setAttribute("color",new m(l,3));const L=new P({size:.5,sizeAttenuation:!0,transparent:!0,alphaMap:D,alphaTest:.001,blending:b,depthWrite:!1,vertexColors:!0}),d=[];for(let e=0;e<100;e++)d[e]=new A(p,L),h.add(d[e]);const T=e=>{e.preventDefault(),t.scroll.position-=e.deltaY*.05};document.addEventListener("wheel",T);const r={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",()=>{r.width=window.innerWidth,r.height=window.innerHeight,n.aspect=r.width/r.height,n.updateProjectionMatrix(),i.setSize(r.width,r.height),i.setPixelRatio(Math.min(window.devicePixelRatio,2))});const n=new B(35,r.width/r.height,.1,100);n.position.z=3;h.add(n);const i=new S({canvas:W,alpha:!0});i.setSize(r.width,r.height);i.setPixelRatio(Math.min(window.devicePixelRatio,2));gsap.to(s,{xPercent:-100*(s.length-1),ease:"none",scrollTrigger:{trigger:"#horizontal",pin:!0,scrub:1,snap:1/(s.length-1),end:()=>"+="+document.querySelector("#horizontal").offsetWidth,onUpdate:e=>{const o=e.progress,f=Math.round(o*(s.length-1));E.forEach((x,v)=>{x.classList.toggle("active",v===f)})}}});const R=()=>{t.scroll.lerped.previous=t.scroll.lerped.current,t.scroll.lerped.current=gsap.utils.interpolate(t.scroll.lerped.current,t.scroll.position,.1),t.scroll.intensity=Math.abs(t.scroll.lerped.previous-t.scroll.lerped.current);for(let e=0;e<100;e++)d[e].position.x=e*.1*t.scroll.intensity;n.position.x=-t.scroll.lerped.current,i.render(h,n)};gsap.ticker.add(R);
//# sourceMappingURL=chapters-CKD0szt8.js.map
